# 宝贝康复助手 (Kids Med Tracker) — 项目概述

## 一、项目定位

**项目名称**：宝贝康复助手 / Kids Med Tracker
**目标用户**：多孩家庭的父母/看护人
**使用场景**：儿童急性疾病期间（发烧、感冒、咳嗽等）
**技术栈**：Vue 3 + Vite + TailwindCSS + Pinia + Cloudflare Workers

---

## 二、核心服务内容

### 1. 用药追踪服务

- 记录用药时间、药物类型、剂量
- **智能间隔计时**：退烧药自动倒计时提醒
  - 布洛芬：6 小时间隔
  - 对乙酰氨基酚：4 小时间隔
- 预置常见儿童药物库：
  | 药物 | 类型 | 间隔 |
  |------|------|------|
  | 布洛芬 | 退烧药 | 6 小时 |
  | 对乙酰氨基酚 | 退烧药 | 4 小时 |
  | 奥司他韦 | 抗病毒 | 12 小时 |
  | 止咳糖浆 | 止咳 | 不限 |
  | 小儿氨酚黄那敏 | 感冒药 | 不限 |

### 2. 症状记录服务

- **体温追踪**：精确记录体温变化
- **咳嗽监测**：分级记录咳嗽严重程度（轻/中/重）
- **快速备注**：随时记录观察到的症状

### 3. 数据可视化与分析

- 24 小时体温趋势图
- 3 天咳嗽频次柱状图
- 康复统计：
  - 记录天数
  - 总用药次数
  - 日均咳嗽频次

### 4. 多孩管理

- 支持多个孩子独立档案
- 颜色主题区分（大宝蓝色/二宝粉色）
- 快速切换当前追踪对象

### 5. 家庭协作功能

- 多用户协同：父母、祖辈、保姆共同记录
- 邀请码机制加入家庭
- 权限管理（owner/member 角色）
- 云端数据同步

### 6. 数据导出

- 导出文本报告供医生参考
- 支持多语言格式

---

## 三、技术特点

| 特点 | 说明 |
|------|------|
| PWA 应用 | 可安装到手机桌面，离线可用 |
| 纯前端可用 | 数据存本地 localStorage，隐私保护 |
| 多语言支持 | 中文/英文界面切换 |
| 云端同步 | 可选后端服务，多设备同步 |
| 响应式设计 | 适配手机、平板、桌面 |

---

## 四、功能模块清单

### 前端页面

| 页面 | 功能 |
|------|------|
| HomeView | 主控面板：快速操作、计时器、今日统计、历史记录 |
| StatsView | 统计分析：体温图表、咳嗽图表、康复统计 |
| LoginView | 用户登录：邮箱验证码、Google OAuth |
| NoFamilyView | 家庭创建/加入引导 |
| InviteView | 邀请码接受页面 |

### 后端 API

| 模块 | 端点 |
|------|------|
| 认证 | `/api/auth/*` - 登录、验证、OAuth |
| 家庭 | `/api/families/*` - 创建、列表 |
| 邀请 | `/api/invites/*` - 生成、接受邀请 |
| 孩子 | `/api/children/*` - CRUD 操作 |
| 记录 | `/api/records/*` - 用药/症状记录 |

---

## 五、解决的痛点

1. **用药交接混乱**：多护理人员交接时信息不一致
2. **间隔时间难把握**：退烧药用药间隔容易记错
3. **病程记录缺失**：症状变化缺乏记录，难以向医生描述

---

## 六、安全与隐私

- 纯前端模式：数据完全存储在用户本地浏览器
- 云端模式：
  - Turnstile 机器人验证
  - 邮箱验证码认证
  - 一次性邀请令牌
  - 家庭数据隔离
- 开源协议：MIT License

---

## 七、典型使用流程

```
1. 注册登录（邮箱/Google）
       ↓
2. 创建家庭 → 添加孩子
       ↓
3. 日常使用：
   - 快速记录用药（点击 → 选药 → 剂量 → 确认）
   - 记录体温和咳嗽
   - 查看用药计时器
       ↓
4. 邀请家人加入协作
       ↓
5. 查看统计图表、导出报告
```

---

*文档生成时间：2025 年 1 月*
