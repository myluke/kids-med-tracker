name = "kids-med-tracker"
main = "worker/index.ts"
compatibility_date = "2026-01-11"

assets = { directory = "./dist", binding = "ASSETS" }

[vars]
# Supabase 配置（公开 URL）
SUPABASE_URL = "https://yvyrwsvegkevngunzahp.supabase.co"
# 应用 URL
APP_URL = "https://kids.kanheze.com"
ENV = "production"

# 需要通过 wrangler secret put 配置的密钥:
# - SUPABASE_ANON_KEY (Supabase anon/public key)
# - SUPABASE_SERVICE_ROLE_KEY (Supabase service role key)
# - INVITE_TOKEN_PEPPER (用于邀请 token 哈希)

[env.preview]
ENV = "preview"
APP_URL = "https://kids-preview.kanheze.com"
